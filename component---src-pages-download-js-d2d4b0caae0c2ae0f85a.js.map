{"version":3,"file":"component---src-pages-download-js-d2d4b0caae0c2ae0f85a.js","mappings":"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","sources":["webpack://gatsby-starter-hello-world/./src/styles/download.module.css","webpack://gatsby-starter-hello-world/./src/pages/download.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var content = \"download-module--content--a3d73\";\nexport var convertList = \"download-module--convertList--752f0\";\nexport var convertLoad = \"download-module--convertLoad--ef203\";\nexport var convertTab = \"download-module--convertTab--cc014\";\nexport var downloader = \"download-module--downloader--b536f\";\nexport var getLink = \"download-module--getLink--e1aa4\";\nexport var mainWrapper = \"download-module--mainWrapper--91493\";\nexport var seconds = \"download-module--seconds--287ca\";\nexport var thumbImg = \"download-module--thumbImg--dd32b\";\nexport var videoName = \"download-module--videoName--846b7\";\nexport var videoQu = \"download-module--videoQu--009ab\";","import * as React from \"react\"\r\nimport {useEffect, useState} from \"react\"\r\nimport axios from \"axios\"\r\nimport {FormattedMessage, useIntl, navigate} from \"gatsby-plugin-intl\"\r\nimport Seo from \"../components/seo\"\r\nimport Layout from \"../components/layout\"\r\nimport Sections from \"../components/sections\"\r\nimport * as styles from \"../styles/download.module.css\"\r\n\r\nconst Download = (props) => {\r\n  const intl = useIntl();\r\n\r\n  const inputValue = props?.location?.state?.url;\r\n  const [dataList, setDataList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadConvert, setLoadConvert] = useState(false);\r\n  const [loadDownload, setLoadDownload] = useState(false);\r\n  const [downloadLink, setDownloadLink] = useState([]);\r\n  const [convertKey, setConvertKey] = useState();\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const config = {headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"}};\r\n    const params = new URLSearchParams({\"q\": inputValue, \"vt\": \"home\"});\r\n    const url = \"https://yt1s.com/api/ajaxSearch/index\";\r\n\r\n    axios.post(url, params, config)\r\n      .then((result) => {\r\n        setLoading(false);\r\n        setDataList([result.data])\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  }, [inputValue]);\r\n\r\n  const handleConverting = () => {\r\n    setLoadConvert(true);\r\n    const config = {headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"}};\r\n    const params = new URLSearchParams({\"vid\": dataList[0]?.vid, \"k\": convertKey});\r\n    const url = \"https://yt1s.com/api/ajaxConvert/convert\";\r\n\r\n    axios.post(url, params, config)\r\n      .then((result) => {\r\n        setLoadConvert(false);\r\n        setLoadDownload(true);\r\n        setDownloadLink(result.data)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setConvertKey(e.target.value)\r\n  };\r\n\r\n  const handleConvertNext = () => {\r\n    navigate(\"/\")\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <Seo title={intl.formatMessage({id: \"download-seo-title\"})}/>\r\n      <div className={styles.mainWrapper}>\r\n        <h1><FormattedMessage id=\"downloader-title\"/></h1>\r\n        <p><FormattedMessage id=\"downloader-desc\"/></p>\r\n        {loading ?\r\n          <img\r\n            alt=\"logo\"\r\n            src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='margin:auto;background:%23fff;display:block;' width='200px' height='200px' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Cg transform='translate(20 50)'%3E%3Ccircle cx='0' cy='0' r='6' fill='%23e15b64'%3E%3CanimateTransform attributeName='transform' type='scale' begin='-0.375s' calcMode='spline' keySplines='0.3 0 0.7 1;0.3 0 0.7 1' values='0;1;0' keyTimes='0;0.5;1' dur='1s' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/circle%3E%3C/g%3E%3Cg transform='translate(40 50)'%3E%3Ccircle cx='0' cy='0' r='6' fill='%23f8b26a'%3E%3CanimateTransform attributeName='transform' type='scale' begin='-0.25s' calcMode='spline' keySplines='0.3 0 0.7 1;0.3 0 0.7 1' values='0;1;0' keyTimes='0;0.5;1' dur='1s' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/circle%3E%3C/g%3E%3Cg transform='translate(60 50)'%3E%3Ccircle cx='0' cy='0' r='6' fill='%23abbd81'%3E%3CanimateTransform attributeName='transform' type='scale' begin='-0.125s' calcMode='spline' keySplines='0.3 0 0.7 1;0.3 0 0.7 1' values='0;1;0' keyTimes='0;0.5;1' dur='1s' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/circle%3E%3C/g%3E%3Cg transform='translate(80 50)'%3E%3Ccircle cx='0' cy='0' r='6' fill='%2381a3bd'%3E%3CanimateTransform attributeName='transform' type='scale' begin='0s' calcMode='spline' keySplines='0.3 0 0.7 1;0.3 0 0.7 1' values='0;1;0' keyTimes='0;0.5;1' dur='1s' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\"\r\n          /> :\r\n          <>\r\n            <div className={styles.downloader}>\r\n              <div className={styles.thumbImg}>\r\n                <img\r\n                  width=\"100%\"\r\n                  src={`https://i.ytimg.com/vi/${dataList[0]?.vid}/0.jpg`}\r\n                  alt=\"img\"/>\r\n              </div>\r\n              <div className={styles.content}>\r\n                <div>\r\n                  <h3 className={styles.videoName}>{dataList[0]?.title}</h3>\r\n                  <p>{dataList[0]?.a}</p>\r\n                  <p\r\n                    className={styles.seconds}>\r\n                    {dataList.length > 0 && new Date(dataList[0].t * 1000).toISOString().substring(14, 19)}\r\n                  </p>\r\n                  <div className={styles.convertList}>\r\n                    <div className={styles.convertTab}>\r\n                      {loadConvert ?\r\n                        <span className={styles.convertLoad}>\r\n                          <FormattedMessage id=\"converting-title\"/>\r\n                        </span>\r\n                        :\r\n                        (loadDownload ?\r\n                            <>\r\n                              <a\r\n                                style={{width: \"auto\", padding: \"9px 20px\"}}\r\n                                href={downloadLink?.dlink}\r\n                                className={styles.getLink}>\r\n                                <FormattedMessage id=\"download-btn\"/>\r\n                              </a>\r\n                              <button\r\n                                style={{marginLeft: \"12px\"}}\r\n                                onClick={handleConvertNext}\r\n                                className={styles.convertLoad}>\r\n                                <FormattedMessage id=\"convert-next-btn\"/>\r\n                              </button>\r\n                            </>\r\n                            :\r\n                            <>\r\n                              <select className={styles.videoQu} onClick={handleChange}>\r\n                                <optgroup label=\"mp4\">\r\n                                  {\r\n                                    dataList.length > 0 &&\r\n                                    Object.keys(dataList[0]?.links.mp4).map((item, i) => (\r\n                                      <option key={i} value={dataList[0].links.mp4[item].k}>\r\n                                        {dataList[0].links.mp4[item].q} {dataList[0].links.mp4[item].size}\r\n                                      </option>\r\n                                    ))\r\n                                  }\r\n                                </optgroup>\r\n                                <optgroup label=\"mp3\">\r\n                                  {\r\n                                    dataList.length > 0 &&\r\n                                    Object.keys(dataList[0]?.links.mp3).map((item) => (\r\n                                      <option value={dataList[0].links.mp3[item].k}>\r\n                                        {dataList[0].links.mp3[item].q_text} {dataList[0].links.mp3[item].size}\r\n                                      </option>\r\n                                    ))\r\n                                  }\r\n                                </optgroup>\r\n                              </select>\r\n                              <button className={styles.getLink} onClick={handleConverting}>\r\n                                <FormattedMessage id=\"get-link-btn\"/>\r\n                              </button>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        }\r\n      </div>\r\n      <Sections/>\r\n    </Layout>\r\n  )\r\n};\r\n\r\nexport default Download\r\n"],"names":["convertLoad","getLink","props","intl","useIntl","inputValue","location","state","url","dataList","setDataList","useState","loading","setLoading","loadConvert","setLoadConvert","loadDownload","setLoadDownload","downloadLink","setDownloadLink","convertKey","setConvertKey","useEffect","params","URLSearchParams","axios","headers","then","result","data","catch","err","console","log","title","formatMessage","id","className","FormattedMessage","alt","src","width","vid","a","length","Date","t","toISOString","substring","styles","style","padding","href","dlink","marginLeft","onClick","navigate","e","target","value","label","Object","keys","links","mp4","map","item","i","key","k","q","size","mp3","q_text"],"sourceRoot":""}